<div class="wrapper">
  <div class="page-header page-header-small" filter-color="orange">
    <div class="page-header-image rellax-header" data-rellax-speed="-8" style="background-image: url('assets/img/bg5.jpg') ;">
    </div>
    <div class="container profile-content">
      <div class="content-center">
        <div class="photo-container">
          <img src="assets/img/ryan.jpg" class="avatar" alt="">
        </div>
        <h3 class="title mt-3">{{user.username}}</h3>
        <h6 class="category">{{user.firstName}} {{user.lastName}}</h6>
        <div class="content row inline-column-row">
          <div class="social-description col-sm">
            <h2>{{user.points}}</h2>
            <h6>points</h6>
          </div>
          <div class="social-description col-sm">
            <h2>{{nbstories}}</h2>
            <h6>stories</h6>
          </div>
        </div>
        <div class="button-container">
          <button (click)="goToMap()" class="btn btn-primary btn-round"> See map</button>
          <button (click)="goToAddStory()" class="btn btn-primary btn-round"> Add a story</button>
        </div>
      </div>

    </div>
  </div>
  <div class="section">
    <div class="container">
        <h3 class="title">About me</h3>
      <h5 *ngIf="user.description != null" class="description">{{user.description}}</h5>
      <h6 *ngIf="user.description == null" class="description">There is no description provided for this mountaineer</h6>

      <div class="row"></div>
      <div class="row">
        <div class="col-md-12 mt-5">
          <h4 class="title text-center">My stories</h4>
                <div class="row mt-5">
                  <div class="col-md-10 ml-auto mr-auto">
                  <div *ngFor="let story of stories;let i = index">
                      <div class="row collections" *ngIf="i%2===0">
                        <div class="col-md-6">
                          <div class="card" style="height: 35rem;">
                              <img class="card-img-top" src="assets/img/bg1.jpg" alt="Card image cap">
                              <div class="card-body">
                                <h5 class="card-title">{{stories[i].title}}</h5>

                                <p class="card-text" *ngIf="stories[i].text != null &&  stories[i].text.length >= 100">  {{truncateDescription(stories[i].text)}} ... </p>
                                <p class="card-text" *ngIf="stories[i].text != null &&  stories[i].text.length < 100">  {{stories[i].text}}  </p>
                                <div class="row-fluid">
                                  <button class="btn btn-primary btn-round btn-read" (click)="goToViewStory(stories[i].id)">Read more</button>
                                  <button class="btn btn-primary btn-round btn-simple btn-edit " (click)="goToEditStory(stories[i].id)">Edit story</button>
                                  <button class="btn btn-danger btn-round btn-delete ml-3" (click)="deleteStory(stories[i].id)"> Delete</button>

                                </div>
                              </div>
                          </div>
                        </div>
                        <div *ngIf="stories[i + 1]" class="col-md-6">
                          <div class="card" style="height: 35rem;">
                            <img class="card-img-top" src="assets/img/bg1.jpg" alt="Card image cap">
                            <div class="card-body">
                              <h5 class="card-title">{{stories[i+1].title}}</h5>

                              <p class="card-text" *ngIf="stories[i+1].text != null &&  stories[i+1].text.length >= 100">  {{truncateDescription(stories[i+1].text)}} ... </p>
                              <p class="card-text" *ngIf="stories[i+1].text != null &&  stories[i+1].text.length < 100">  {{stories[i+1].text}} </p>
                              <div class="row-fluid">
                                <button class="btn btn-primary btn-round btn-read" (click)="goToViewStory(stories[i].id)">Read more</button>
                                <button class="btn btn-primary btn-round btn-simple btn-edit " (click)="goToEditStory(stories[i+1].id)">Edit story</button>
                                <button class="btn btn-danger btn-round btn-delete ml-3" (click)="deleteStory(stories[i+1].id)"> Delete</button>

                              </div>
                            </div>
                          </div>
                        </div>
                      </div>



                    </div>
                  </div>
                </div>
        </div>
      </div>
    </div>
  </div>
  <footer class="footer footer-default">
    <div class="container">
      <nav>
        <ul>
          <li>
            <a href="https://www.creative-tim.com">
              Creative Tim
            </a>
          </li>
          <li>
            <a href="https://www.creative-tim.com/about-us">
              About Us
            </a>
          </li>
          <li>
            <a href="http://blog.creative-tim.com">
              Blog
            </a>
          </li>
          <li>
            <a href="https://github.com/creativetimofficial/now-ui-kit/blob/master/LICENSE.md">
              MIT License
            </a>
          </li>
        </ul>
      </nav>
      <div class="copyright">
        &copy;
        {{data | date: 'yyyy'}}, Designed by
        <a href="https://www.invisionapp.com" target="_blank">Invision</a>. Coded by
        <a href="https://www.creative-tim.com" target="_blank">Creative Tim</a>.
      </div>
    </div>
  </footer>
</div>
